package com.basic;

import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.FileInputStream;
import java.io.InputStream;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.io.OutputStream;
import java.net.Socket;

public class FileServerThread extends Thread {
	FileServer fserver = null;
	InputStream in = null;
	DataInputStream dis = null;
	OutputStream out = null;
	DataOutputStream dos = null;
	public FileServerThread(FileServer fserver) {
		this.fserver = fserver;
		try {
			//oos = new ObjectOutputStream(fserver.cSocket.getOutputStream());
			//ois = new ObjectInputStream(fserver.cSocket.getInputStream());
			//String msg = (String) ois.readObject();
			in = fserver.cSocket.getInputStream();
			dis = new DataInputStream(in);
			out = fserver.cSocket.getOutputStream();
			dos = new DataOutputStream(out);
			fserver.jta_log.setCaretPosition(fserver.jta_log.getDocument().getLength());
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
	
	@Override
	public void run() {
		boolean isStop = false;
		try {
			while(isStop) {
				String fileNameStr = dis.readUTF();
				System.out.println("사용자가 요청한 파일 : "+fileNameStr);
				FileInputStream fin 
				= new FileInputStream("C:\\workspace_java\\dev_java\\src\\test\\"+fileNameStr);
				while(true) {
					int data = fin.read();
					if(data == -1) break;
					
				}
				dos.
			}
		} catch (Exception e) {
			// TODO: handle exception
		}
	}
}
