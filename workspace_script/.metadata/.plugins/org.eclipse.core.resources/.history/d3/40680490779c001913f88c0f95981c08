<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>팝업 창에 해당항목의 내용표시</title>
<link rel="stylesheet" type="text/css" href="pictureMain.css">
<script type="text/javascript">
    //ajax코드 추가하기 - javascript - 주의사항 : 돔구성이 완료되었을 때 처리할 내용
    var xhrObject = null;
    function createRequest() {
        try {
            xhrObject = new XMLHttpRequest();//비동기통신객체 생성
        } catch (trymicrosoft) {
            xhrObject = null;
        }
        if(xhrObject==null) {
            alert("비동기 통신객체 생성 실패")
    }
    //서버로 요청에 대한 처리를 전송 - 비동기 처리
    function startMethod() {
        //document.getElementById("popupContent").innerHTML = "startMethod";
        createRequest();//비동기통신 객체 생성 메소드 호출 - 전역변수로 초기화됨.
        //콜백메소드 이름 선언 : 비동기통신객체(Object:XMLHttpRequest).XXX
        xhrObject.onreadystatechange = popup_process;
        //옵션 추가
        //1)전송방식 - GET[query string,링크,제약,노출] | POST[GET방식의 반대]
        //2)전송(요청)에 대한 목적지[ex. XXX.jsp-오라클통신,자바코드활용,데이터]
        //3)옵션 - true:비동기처리, flase:동기처리
        var url="./pictureInfo.jsp";
        xhrObject.open("GET",url,true);
        //전송
        xhrObject.send(null);
    }
    function result_process() {
        //응답 받아오기
        var temp = xhrObject.responseText;
        document.getElementById("popupContent").innerText=temp;
    }
    function popup_process() {
        if(xhrObject.readyState==4) {//상태값이 4일 때
            if(xhrObject.status==200) {//서버의 응답이 200 ok
                result_process();
            }
            else if(xhrObject.status==204) {//서버의 응답이 204 fail

            }
        }
    }
    function clearMethod() {
        //document.getElementById("popupContent").innerHTML = "clearMethod";
    }
</script>
</head>
<body>
<!-- colspan="2" : 옆 셀과 병합하기
여기서는 두칸이 병합됨. 3이면 세칸 4일경우는 네칸이 병합
위 아래로 병합할 때는 rowspan="2" 위쪽과 아래 쪽 셀이 병합
-->
<table>
    <thead>
        <th colspan="2">그림 목록</th>
    </thead>
    <tbody>
        <tr>
            <td align="center"><img src="picture1.jpg" width="50" height="50"/></td>
            <!-- this는 td를 의미함 -->
            <td id="1"onmouseover="startMethod(this)" onmouseout="clearMethod()">자동차</td>
        </tr>
        <tr>
            <td align="center"><img src="picture2.jpg" width="50" height="50"/></td>
            <td id="2" onmouseover="startMethod(this)" onmouseout="clearMethod()">고양이</td>
        </tr>
        <tr>
            <td align="center"><img src="picture3.jpg" width="50" height="50"/></td>
            <td id="3" onmouseover="startMethod(this)" onmouseout="clearMethod()">몽몽이</td>
        </tr>
        <tr>
            <td align="center"><img src="picture4.jpg" width="50" height="50"/></td>
            <td id="4" onmouseover="startMethod(this)" onmouseout="clearMethod()">판다너구리</td>
        </tr>
    </tbody>
</table>
<div id="popupContent">
popupContent
</div>
</body>
</html>